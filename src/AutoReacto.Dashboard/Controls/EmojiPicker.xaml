<UserControl x:Class="AutoReacto.Dashboard.Controls.EmojiPicker"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Height="350" Width="340">

    <Border Background="#1E1F22" CornerRadius="8" BorderBrush="#3F4147" BorderThickness="1">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Search Box -->
            <Border Grid.Row="0" Background="#2B2D31" Margin="8" CornerRadius="4" Padding="8,6">
                <Grid>
                    <TextBlock x:Name="SearchPlaceholder" 
                               Text="ðŸ” Emoji ara..." 
                               Foreground="#72767D" 
                               VerticalAlignment="Center"
                               IsHitTestVisible="False"/>
                    <TextBox x:Name="SearchBox" 
                             Background="Transparent" 
                             BorderThickness="0" 
                             Foreground="White"
                             CaretBrush="White"
                             TextChanged="SearchBox_TextChanged"/>
                </Grid>
            </Border>

            <!-- Category Tabs -->
            <ScrollViewer Grid.Row="1" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled" Margin="8,0">
                <StackPanel x:Name="CategoryTabs" Orientation="Horizontal"/>
            </ScrollViewer>

            <!-- Emoji Grid -->
            <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" Margin="8">
                <ItemsControl x:Name="EmojiGrid">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Button Content="{Binding}" 
                                    FontSize="22" 
                                    Width="36" Height="36"
                                    Background="Transparent"
                                    BorderThickness="0"
                                    Cursor="Hand"
                                    Click="Emoji_Click"
                                    ToolTip="{Binding}">
                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="Button">
                                                    <Border x:Name="border" 
                                                            Background="Transparent" 
                                                            CornerRadius="4"
                                                            Padding="2">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter TargetName="border" Property="Background" Value="#3F4147"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </Button.Style>
                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Grid>
    </Border>
</UserControl>
